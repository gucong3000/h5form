<PUBLIC:COMPONENT lightWeight="true"><PUBLIC:PROPERTY name="formNoValidate" put="setFormNoValidate" get="getFormNoValidate" /><PUBLIC:PROPERTY name="noValidate" put="setNoValidate" get="getNoValidate" /><PUBLIC:PROPERTY name="required" put="setRequired" get="getRequired" /><PUBLIC:PROPERTY name="validationMessage" get="getValidationMessage" /><PUBLIC:PROPERTY name="willValidate" get="getWillValidate" /><PUBLIC:PROPERTY name="validity" get="getValidity" /><PUBLIC:PROPERTY name="placeholder" /><PUBLIC:PROPERTY name="pattern" /><PUBLIC:PROPERTY name="step" /><PUBLIC:PROPERTY name="max" /><PUBLIC:PROPERTY name="min" /><PUBLIC:ATTACH event="ondocumentready" onevent="documentready()" /><PUBLIC:ATTACH event="oncontentready" onevent="isContentReady=!0;" /><PUBLIC:ATTACH event="onpropertychange" onevent="propertychange()" /><PUBLIC:ATTACH event="onkeypress" onevent="valueChange&&valueChange()" /><PUBLIC:ATTACH event="onchange" onevent="valueChange&&valueChange()" /><SCRIPT>
/* h5form v0.2.5
 * homepage: http://gucong3000.github.io/h5form/
 */
var validityGetter={patternMismatch:function(){return hasVal()&&!!elem.pattern&&!new RegExp("^(?:"+elem.pattern+")$").test(elem.value)},rangeUnderflow:function(){return isNum()&&num(elem.value)<num(elem.min)},rangeOverflow:function(){return isNum()&&num(elem.value)>num(elem.max)},stepMismatch:function(){return isNum()&&elem.step&&(num(elem.value)-num(elem.min)||num(elem.max)-num(elem.value))%num(elem.step)!==0},typeMismatch:function(){var a=regexpTypes[getType()];return hasVal()&&a&&!a.test(elem.value)},valueMissing:function(){return elem.willValidate&&elem.required&&!(/^checkbox$/i.test(elem.type)?elem.checked:/^radio$/i.test(elem.type)?isSiblingChecked(elem):elem.value)},badInput:function(){return!1},tooLong:function(){elem.value&&elem.value.length>elem.maxLength}},ValidityState=function(){},regexpTypes={email:/^[a-zA-Z0-9.!#$%&'*+-\/=?\^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,number:/^[+-]?\d+(\.\d+)?$/,url:/[a-z][\-\.+a-z]*:\/\//i,color:/#[\da-f]{6}/i},typeErrors={email:"请输入电子邮件地址。",number:"请输入一个数字。",color:"请输入一个颜色值",url:"请输入一个URL。"},strFormNoValidate="formNoValidate",strNoValidate="noValidate",strRequired="required",win=window,validityObj=new ValidityState,setTimeoutFn=win.setTimeout,num=top.parseFloat,strCustomError="",attrData={},elem=element,oldValue=elem.value,doc=elem.document,isDocumentReady,isContentReady,getValidationMessage,setFormNoValidate,getFormNoValidate,getWillValidate,setNoValidate,getNoValidate,setRequired,getRequired,getValidity,stepMismatchMsg,valueChange,setHolder,propertychange,documentready,seajs=win.seajs,trigger;ValidityState.prototype={patternMismatch:!1,rangeUnderflow:!1,rangeOverflow:!1,stepMismatch:!1,typeMismatch:!1,valueMissing:!1,customError:!1,valid:!0},win.ValidityState||(win.ValidityState=ValidityState),/^form$/i.test(elem.tagName)?(elem.checkValidity=function(){var a=!0,b=elem.elements,c,d;for(d=0;d<b.length;d++)c=b[d],c.checkValidity&&c.willValidate&&(a&=c.checkValidity());return!(!a||!isDocumentReady)},getNoValidate=defineGetter(strNoValidate),setNoValidate=defineSetter(strNoValidate)):(getFormNoValidate=defineGetter(strFormNoValidate),setFormNoValidate=defineSetter(strFormNoValidate),getRequired=defineGetter(strRequired),setRequired=defineSetter(strRequired),stepMismatchMsg=function(){var a=num(elem.value),b=num(elem.step),c=(a-num(elem.min)||num(elem.max)-a)%b,d=a-c,e=d+b;return"值应该为 "+d+" 或 "+e},getValidationMessage=function(){return strCustomError||(validityObj.valueMissing?"请填写此字段。":validityObj.patternMismatch?"请匹配要求的格式。":validityObj.typeMismatch?typeErrors[getType()]:validityObj.rangeOverflow?"值必须小于或等于 "+elem.max:validityObj.rangeUnderflow?"值必须大于或等于 "+elem.min:validityObj.stepMismatch?stepMismatchMsg():"")},getWillValidate=function(){return!(elem.disabled||elem.readonly||/^input$/i.test(elem.nodeName)&&/^hidden$/i.test(elem.type))},getValidity=function(){for(var a in validityGetter)validityObj[a]=validityGetter[a]();return valid(),validityObj},elem.setCustomValidity=function(a){strCustomError=a,validityObj.customError=!!a,valid()},elem.checkValidity=function(){getValidity();var a=validityObj.valid;return a||trigger("invalid"),a},/^button$/i.test(elem.tagName)||(!doc.querySelector&&/input/i.test(elem.tagName)&&(elem.className+=" type_"+getType()),function(){for(var a=["placeholder","pattern","step","max","min"],b=0;b<a.length;b++)elem.getAttribute(a[b],2)||(elem[a[b]]="")}(),/^text(area)?|password$/i.test(elem.type)&&(valueChange=function(){getValidity(),setTimeoutFn(function(){oldValue!==elem.value&&(oldValue=elem.value,trigger("input"))},0)},(setHolder=function(){win.placeholder?placeholder(elem):seajs&&seajs.use(["placeholder"],function(a){a(elem)})})())),trigger=function(a){win.$?$(elem).trigger(a):seajs&&seajs.use(["jquery"],function(b){b(elem).trigger(a)})}),documentready=function(){if(isDocumentReady=!0,elem.focus&&elem.attributes.autofocus)try{for(var a=doc.forms,b,c=0,d;c<a.length;c++)for(d=0,b;d<a[c].elements.length;d++)if(b=a[c].elements[d],b.focus&&b.attributes.autofocus)try{return void(b===elem&&b.focus())}catch(e){}}catch(e){elem.focus()}},propertychange=function(){var a=event.propertyName;a in attrData&&isContentReady&&(attrData[a]=!!elem.attributes[a]),setHolder&&setHolder(a),valueChange&&valueChange()};function defineGetter(a){return function(){return!!attrData[a]}}function defineSetter(a){return function(b){attrData[a]=isContentReady||"boolean"==typeof b?b:!0}}function valid(){validityObj.valid=!(validityObj.tooLong||validityObj.customError||validityObj.valueMissing||validityObj.patternMismatch||validityObj.typeMismatch||validityObj.rangeOverflow||validityObj.rangeUnderflow||validityObj.stepMismatch)}function isSiblingChecked(a){var b=a.form[a.name||a.id],c;for(c;c<b.length;c++)if(b[c].checked)return!0}function hasVal(){return elem.willValidate&&!!elem.value}function getType(){return(elem.getAttribute("type",2)||elem.type).toLowerCase()}function isNum(){return hasVal()&&/^number|range$/i.test(getType())}
</SCRIPT><script type="text/vbscript"></script></PUBLIC:COMPONENT>